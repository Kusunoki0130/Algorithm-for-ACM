## I. 基本说明

背包问题泛指具有这一特征的问题：在约束条件下，确定一个选取物品方案，最大化（或最小化）某一个参数（如总价值和）。

基本思路为动态规划。

## II. 符号约定
| 符号  | 含义                        |
| ----- | --------------------------- |
| $N$   | 物品数（或分组数）          |
| $V$   | 背包体积上限                |
| $M$   | 背包质量上限                |
| $v_i$ | 第 $i$ 个物品的体积         |
| $m_i$ | 第 $i$ 个物品的质量         |
| $w_i$ | 第 $i$ 个物品的价值         |
| $s_i$ | 第 $i$ 个物品的个数     |
| $S_i$ | 第 $i$ 个组包含的物品数     |
| $p_i$ | 第 $i$ 个物品依赖的物品编号 |

## 1. 01背包

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**每件物品最多只能选一次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq1000$

时间复杂度 $O(NV)$ ~ $1e6$

空间复杂度 $O(V)$

## 2. 完全背包

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**每件物品可以选取任意次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq1000$

时间复杂度 $O(NV)$ ~ $1e6$

空间复杂度 $O(V)$

## 3. 多重背包（朴素）

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**物品 $i$ 最多可以选取 $s_i$ 次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq100, V\leq100, s_i\leq100$

时间复杂度 $O(NsV)$ ~ $1e6$

空间复杂度 $O(V)$

## 4. 多重背包（二进制拆分）

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**物品 $i$ 最多可以选取 $s_i$ 次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq2000, s_i\leq1000$ （注意数据量变化）

时间复杂度 $O(NVlogs)$ ~ $1e7$

空间复杂度 $O(V)$

## 5. 多重背包（单调队列优化）

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**物品 $i$ 最多可以选取 $s_i$ 次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq20000, s_i\leq20000$ （注意数据量变化）

时间复杂度 $O(kNV)$ ~ $k * 1e7$ （ $k$ 是一个极小的常数，取决于队列的效率和具体数据排布，不可估计）

空间复杂度 $O(V)$

## 6. 混合背包

综合以上三种背包。

**有的物品最多取一次，有的物品最多取大于一次，有的物品能取无限次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq1000$

~~时间复杂度~~

空间复杂度 $O(V)$

## 7. 二维费用背包

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、质量为$m_i$、价值为$w_i$。

**每件物品最多只能选一次**，求背包体积为 $V$ 、质量为 $M$ 情况下，选取物品价值总和的最大值。

$N\leq1000, V\leq100, M\leq100$

时间复杂度 $O(NVM)$ ~ $1e7$

空间复杂度 $O(VM)$

## 8. 分组背包

有 $N$ 组物品，第 $i$ 组物品有$S_i$个，第 $ij$ 个物品的体积为$v_{ij}$、价值为$w_{ij}$。

**每个组内的物品最多取一个**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq100, V\leq100, S_i\leq100$

时间复杂度 $O(NSV)$ ~ $1e6$

空间复杂度 $O(V)$

## 9. 依赖背包

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$、前置物品编号为 $p_i$（保证依赖关系为树且根唯一）。

**每件物品只有在前置物品已经被选取的情况下，才能被选取，且最多选取一次**，求背包体积为 $V$ 情况下，选取物品价值总和的最大值。

$N\leq100, V\leq100$

时间复杂度 $O(NV^2)$ ~ $1e6$

空间复杂度 $O(NV)$

## 10. 背包问题方案数

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**每件物品最多只能选一次**，求背包体积为 $V$ 情况下，**有多少种方案（对1e9+7取模）**，能使选取物品价值总和最大。

$N\leq1000, V\leq1000$

时间复杂度 $O(NV)$ ~ $1e6$

空间复杂度 $O(V)$

## 11. 背包问题具体方案

有 $N$ 个物品，第 $i$ 件物品的体积为$v_i$、价值为$w_i$。

**每件物品最多只能选一次**，求背包体积为 $V$ 情况下，**给出选取的物品序列（字典序）**，使选取物品总和最大。

$N\leq1000, V\leq1000$

时间复杂度 $O(NV)$ ~ $1e6$

空间复杂度 $O(NV)$